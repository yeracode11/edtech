# üìπ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–≥—Ä—É–∑–∫–µ –≤–∏–¥–µ–æ

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

### Backend:
- ‚úÖ **Multer middleware** –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
- ‚úÖ **API endpoint** `/api/upload/video` (POST)
- ‚úÖ **API endpoint** `/api/upload/video/:filename` (DELETE)
- ‚úÖ **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–¥–∞—á–∞** –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ `/uploads/videos/`
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤**: —Ç–æ–ª—å–∫–æ –≤–∏–¥–µ–æ —Ñ–æ—Ä–º–∞—Ç—ã
- ‚úÖ **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞**: –º–∞–∫—Å–∏–º—É–º 500 –ú–ë

### Frontend:
- ‚úÖ **–§–æ—Ä–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞** –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ —É—Ä–æ–∫–æ–≤
- ‚úÖ **Progress bar** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ **–ü—Ä–µ–≤—å—é –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞** —Å —Ä–∞–∑–º–µ—Ä–æ–º
- ‚úÖ **–í—ã–±–æ—Ä**: URL –∏–ª–∏ —Ñ–∞–π–ª (–≤–∑–∞–∏–º–æ–∏—Å–∫–ª—é—á–∞—é—â–∏–µ)

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### 1. –°–æ–∑–¥–∞–Ω–∏–µ —É—Ä–æ–∫–∞ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π –≤–∏–¥–µ–æ:

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/admin/lessons
2. –í—ã–±–µ—Ä–∏—Ç–µ –∫—É—Ä—Å
3. –ù–∞–∂–º–∏—Ç–µ **"+ –î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–∫"**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ**: "–í–≤–µ–¥–µ–Ω–∏–µ –≤ —ç–ª–µ–∫—Ç—Ä–∏–∫—É"
   - **–¢–∏–ø —É—Ä–æ–∫–∞**: –í–∏–¥–µ–æ
   - **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 30 –º–∏–Ω

5. **–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–µ–æ:**

   **–í–∞—Ä–∏–∞–Ω—Ç –ê: URL –≤–∏–¥–µ–æ** (YouTube, Vimeo, –ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞)
   ```
   https://youtube.com/watch?v=...
   https://vimeo.com/...
   https://example.com/video.mp4
   ```

   **–í–∞—Ä–∏–∞–Ω—Ç –ë: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞**
   - –ù–∞–∂–º–∏—Ç–µ "–í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª"
   - –í—ã–±–µ—Ä–∏—Ç–µ –≤–∏–¥–µ–æ —Ñ–∞–π–ª (MP4, AVI, MOV, MKV, WebM)
   - –í–∏–¥–∏—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏
   - –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

6. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

---

## üìã –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:

### –í–∏–¥–µ–æ —Ñ–æ—Ä–º–∞—Ç—ã:
- ‚úÖ MP4 (video/mp4)
- ‚úÖ MPEG (video/mpeg)
- ‚úÖ QuickTime (video/quicktime) - .mov
- ‚úÖ AVI (video/x-msvideo)
- ‚úÖ MKV (video/x-matroska)
- ‚úÖ WebM (video/webm)

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: **500 –ú–ë**
- –¢–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ **ADMIN** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–∏–¥–µ–æ

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

### Backend API:

#### –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ:
```bash
POST /api/upload/video
Content-Type: multipart/form-data
Authorization: Bearer {token}

Body:
  video: [file]

Response:
{
  "message": "–í–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ",
  "videoUrl": "/uploads/videos/video-1234567890-123456789.mp4",
  "filename": "video-1234567890-123456789.mp4",
  "size": 12345678
}
```

#### –£–¥–∞–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ:
```bash
DELETE /api/upload/video/:filename
Authorization: Bearer {token}

Response:
{
  "message": "–í–∏–¥–µ–æ —É–¥–∞–ª–µ–Ω–æ"
}
```

### –•—Ä–∞–Ω–∏–ª–∏—â–µ:
- –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤: `/backend/uploads/videos/`
- –ü–∞–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `.gitignore`
- –î–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º: `http://localhost:5001/uploads/videos/{filename}`

---

## üéØ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```typescript
// Frontend - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
const formData = new FormData();
formData.append('video', videoFile);

const response = await api.post('/upload/video', formData, {
  headers: {
    'Content-Type': 'multipart/form-data',
  },
  onUploadProgress: (progressEvent) => {
    const percentCompleted = Math.round(
      (progressEvent.loaded * 100) / (progressEvent.total || 100)
    );
    console.log(percentCompleted + '%');
  },
});

const videoUrl = response.data.videoUrl;
// videoUrl: "/uploads/videos/video-1234567890-123456789.mp4"
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

1. **–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ Git** (–¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ .gitignore)
2. **–¢–æ–ª—å–∫–æ URL –∏–ª–∏ —Ñ–∞–π–ª**: –Ω–µ–ª—å–∑—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —É–∫–∞–∑–∞—Ç—å URL –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
3. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–æ–ª—å ADMIN
4. **Production**: —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Google Cloud Storage –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

---

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Cloud Storage
- [ ] –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤–∏–¥–µ–æ –≤ HLS —Ñ–æ—Ä–º–∞—Ç
- [ ] Thumbnail generation –¥–ª—è –≤–∏–¥–µ–æ
- [ ] CDN –¥–ª—è —Ä–∞–∑–¥–∞—á–∏ –≤–∏–¥–µ–æ
- [ ] –°–∂–∞—Ç–∏–µ –≤–∏–¥–µ–æ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

---

‚úÖ **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–≥—Ä—É–∂–∞—Ç—å –≤–∏–¥–µ–æ —Ñ–∞–π–ª—ã –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å!

